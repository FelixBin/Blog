<!--继承布局页-->
{% extends 'layout.html'%}
<!--重写父类的占位-->
{%block main%}

<!--路径导航-->
<ol class="breadcrumb">
    <li><a href="/admin">管理首页</a></li>
    <li><a href="javascript:">内容列表</a></li>
</ol>

<!--用户数据界面-->
<h3>内容列表</h3>
{%include 'content_page.html'%}
<table class="table table-hover table table-striped table-bordered">
    <!--tr>th*+tab-->
    <tr>
        <th>Id</th>
        <th>分类名称</th>
        <th>标题</th>
        <th>添加时间</th>
        <th>点击量</th>
        <th>用户</th>
        <th>操作</th>
    </tr>
{% for content in contents %}
    <tr>
        <td>{{content._id.toString()}}</td>
        <td>{{content.category.name}}</td>
        <td>{{content.title}}</td>
        <!--第一个参数（content.addTime）作为后一个参数（date）的第一个参数-->
        <td>{{content.addTime|date('Y-m-d H:i:s',-483)}}</td>
        <td>{{content.views}}</td>
        <td>{{content.user.username}}</td>
        <td>
            <a href="/admin/content/edit?id={{content._id.toString()}}"> 编辑</a>&nbsp;|
            <a href="/admin/content/delete?id={{content._id.toString()}}"> 删除</a>
        </td>
    </tr>
    {%endfor%}
</table>
{%include 'content_page.html'%}
{%endblock%}